# üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Metron —Ä–∞–±–æ—Ç–∞–µ—Ç

## –°–ø–æ—Å–æ–± 1: –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞

```bash
npx tsx scripts/check-metron-status.ts
```

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –°–∫–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞–π–¥–µ–Ω–æ –≤ Metron
- –°–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏
- –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –∫—ç—à–∞

## –°–ø–æ—Å–æ–± 2: API endpoint

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://localhost:3000/api/metron/status
```

–ò–ª–∏ —á–µ—Ä–µ–∑ curl:
```bash
curl http://localhost:3000/api/metron/status | jq
```

## –°–ø–æ—Å–æ–± 3: –ü—Ä—è–º–æ–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∞–π–ª–∞

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ–≥–æ —Ñ–∞–π–ª–∞
cat data/metron-cache-index.json | jq

# –¢–æ–ª—å–∫–æ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
cat data/metron-cache-index.json | jq '.cachedImages'

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
cat data/metron-cache-index.json | jq '.cachedImages | length'
```

## –°–ø–æ—Å–æ–± 4: –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ (development)

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `npm run dev` –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—É–¥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –ª–æ–≥–∏:

```
üîç [Metron] –ü—Ä–æ–≤–µ—Ä—è—é ComicVine ID: 4050-12345
‚úÖ [Metron] –ù–∞–π–¥–µ–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è 4050-12345: https://static.metron.cloud/media/issue/...
```

–∏–ª–∏

```
üîç [Metron] –ü—Ä–æ–≤–µ—Ä—è—é ComicVine ID: 4050-12345
‚ö†Ô∏è  [Metron] –ù–µ –Ω–∞–π–¥–µ–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è 4050-12345
```

## –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É

### –®–∞–≥ 1: –ù–∞–π–¥–∏—Ç–µ –∫–æ–º–∏–∫—Å —Å–æ —Å—Ç–∞—Ä—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º

–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª—é–±–æ–≥–æ –∫–æ–º–∏–∫—Å–∞ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ DevTools:
- –°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç: `https://comicvine.gamespot.com/api/image/scale_large/...`
- –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç: `https://comicvine.gamespot.com/a/uploads/scale_large/...`

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–æ–º–∏–∫—Å–∞

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–æ–º–∏–∫—Å–∞ —Å–æ —Å—Ç–∞—Ä—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:
```
http://localhost:3000/publishers/{publisherId}/{seriesId}/{comicvineId}
```

### –®–∞–≥ 3: –ü–æ–¥–æ–∂–¥–∏—Ç–µ

- –ó–∞–ø—Ä–æ—Å –∫ Metron API –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 4 —Å–µ–∫—É–Ω–¥—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Å–µ—Ä–≤–µ—Ä–∞ - –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ ~5-10 —Å–µ–∫—É–Ω–¥

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
npx tsx scripts/check-metron-status.ts
```

–î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ –≤ `cachedImages` –∏–ª–∏ `checkedIds`.

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª

```bash
cat data/metron-cache-index.json | jq
```

–î–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–∏—Ç—å—Å—è `lastUpdated` –∏ –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞–ø–∏—Å–∏.

## –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

**–î–æ:**
```json
{
  "cachedImages": {},
  "checkedIds": []
}
```

**–ü–æ—Å–ª–µ:**
```json
{
  "cachedImages": {
    "4050-12345": "https://static.metron.cloud/media/issue/2020/08/04/thor-v2-32.jpg"
  },
  "checkedIds": ["4050-12345", "4050-67890"],
  "lastUpdated": "2025-12-17"
}
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

–î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

```bash
# –°–ª–µ–¥–∏—Ç—å –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ —Ñ–∞–π–ª–∞
watch -n 2 'cat data/metron-cache-index.json | jq ".cachedImages | length"'

# –ò–ª–∏ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
watch -n 5 'npx tsx scripts/check-metron-status.ts'
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Network
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–æ–º–∏–∫—Å–∞
4. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∫ `metron.cloud/api/v1/issue/`
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–≤–µ—Ç - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–µ `image` —Å URL

## –í–∞–∂–Ω–æ

- –ó–∞–ø—Ä–æ—Å—ã –∫ Metron –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—Ç–∞—Ä–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ (`api/image/`)
- –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç (`/a/uploads/`) –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è
- –ö—ç—à —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–≤ —Ñ–∞–π–ª)
- –í production (Vercel) —Ñ–∞–π–ª –º–æ–∂–µ—Ç –±—ã—Ç—å read-only, –Ω–æ –∫—ç—à —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø–∞–º—è—Ç–∏

