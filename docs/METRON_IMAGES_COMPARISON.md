# üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ Metron

## –ü—Ä–æ–±–ª–µ–º–∞

–ù—É–∂–Ω–æ –ø–æ–¥–º–µ–Ω—è—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è ComicVine –Ω–∞ Metron, –Ω–æ –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- –î–µ—Å—è—Ç–∫–∏ —Ç—ã—Å—è—á –∑–∞–ø–∏—Å–µ–π
- –õ–∏–º–∏—Ç—ã API Metron: 30 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω, 10000/–¥–µ–Ω—å

## –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è

### ‚ùå –í–∞—Ä–∏–∞–Ω—Ç 1: JSON —Å URL (–æ—Ç–∫–ª–æ–Ω–µ–Ω)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```json
{
  "mappings": {
    "4050-12345": {
      "thumb": "https://metron.cloud/...",
      "tiny": "https://metron.cloud/...",
      ...
    }
  }
}
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –¢—è–∂–µ–ª—ã–π —Ñ–∞–π–ª: ~5-10MB –¥–ª—è 10,000 –∑–∞–ø–∏—Å–µ–π
- ‚ùå –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞: –ø–∞—Ä—Å–∏–Ω–≥ –±–æ–ª—å—à–æ–≥–æ JSON
- ‚ùå –ü—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API: –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤
- ‚ùå –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Metron API

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞: 50-100ms
- –ü–∞—Ä—Å–∏–Ω–≥ JSON: 20-50ms
- –ü–æ–∏—Å–∫: O(1), –Ω–æ –º–µ–¥–ª–µ–Ω–Ω—ã–π –∏–∑-–∑–∞ —Ä–∞–∑–º–µ—Ä–∞ –æ–±—ä–µ–∫—Ç–∞

---

### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
public/images/metron/
  thumb/4050-12345.jpg
  tiny/4050-12345.jpg
  small/4050-12345.jpg
  super/4050-12345.jpg

data/metron-cache-index.json:
{
  "cachedIds": ["4050-12345", "4050-67890", ...]
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –õ–µ–≥–∫–∏–π –∏–Ω–¥–µ–∫—Å: ~500KB –¥–ª—è 100,000 ID
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞: <10ms
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫: O(1) —á–µ—Ä–µ–∑ Set
- ‚úÖ –ù–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API: –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω–æ
- ‚úÖ –£—á–µ—Ç –ª–∏–º–∏—Ç–æ–≤: —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω–¥–µ–∫—Å–∞: <10ms
- –ü–∞—Ä—Å–∏–Ω–≥ JSON: <5ms (–º–∞–ª–µ–Ω—å–∫–∏–π —Ñ–∞–π–ª)
- –ü–æ–∏—Å–∫: O(1) —á–µ—Ä–µ–∑ Set (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è URL: O(1) - –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Å—Ç—Ä–æ–∫–∏

**–†–∞–∑–º–µ—Ä—ã:**
- –ò–Ω–¥–µ–∫—Å: ~500KB –¥–ª—è 100,000 ID
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: ~50-100MB –¥–ª—è 1,000 –∫–æ–º–∏–∫—Å–æ–≤

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

| –û–ø–µ—Ä–∞—Ü–∏—è | –í–∞—Ä–∏–∞–Ω—Ç 1 (JSON —Å URL) | –í–∞—Ä–∏–∞–Ω—Ç 2 (–õ–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à) |
|----------|----------------------|---------------------------|
| –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –¥–∞–Ω–Ω—ã—Ö | 5-10 MB | 500 KB |
| –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ | 50-100 ms | <10 ms |
| –ü–∞—Ä—Å–∏–Ω–≥ | 20-50 ms | <5 ms |
| –ü–æ–∏—Å–∫ | O(1), –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ | O(1), –º–≥–Ω–æ–≤–µ–Ω–Ω–æ |
| –ó–∞–ø—Ä–æ—Å—ã –∫ API | –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ | –¢–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ |
| –õ–∏–º–∏—Ç—ã API | –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ | –°–æ–±–ª—é–¥–µ–Ω–∏–µ |

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ (<1000 –∫–æ–º–∏–∫—Å–æ–≤)
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
- –í–∞—Ä–∏–∞–Ω—Ç 2 –≤—Å–µ —Ä–∞–≤–Ω–æ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ

### –î–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ (>10000 –∫–æ–º–∏–∫—Å–æ–≤)
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç 2
- –í–∞—Ä–∏–∞–Ω—Ç 1 –±—É–¥–µ—Ç —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω—ã–º

### –£—á–µ—Ç –ª–∏–º–∏—Ç–æ–≤ API

**–í–∞—Ä–∏–∞–Ω—Ç 1:**
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å
- ‚ùå –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ

**–í–∞—Ä–∏–∞–Ω—Ç 2:**
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- ‚úÖ –°–∫—Ä–∏–ø—Ç —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏
- ‚úÖ –ú–æ–∂–Ω–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É

---

## –ò—Ç–æ–≥

**–í–∞—Ä–∏–∞–Ω—Ç 2 (–ª–æ–∫–∞–ª—å–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ) –≤—ã–±—Ä–∞–Ω –∫–∞–∫ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π** –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∏—á–∏–Ω–∞–º:

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –í 10-20 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ
2. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∑–∞–ø–∏—Å–µ–π
3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
4. **–°–æ–±–ª—é–¥–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤**: –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

